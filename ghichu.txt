Váº­y nÃªn lÃ m tháº¿ nÃ o náº¿u user chá»n "Ghi nhá»› Ä‘Äƒng nháº­p"?
TÃ¹y chá»n ghi nhá»›	Giáº£i phÃ¡p Ä‘á» xuáº¥t
âŒ KhÃ´ng tÃ­ch	expiresIn: '1d' + sessionStorage
âœ… CÃ³ tÃ­ch	expiresIn: '7d' hoáº·c 30d + localStorage
âœ… Muá»‘n báº£o máº­t cao	DÃ¹ng refresh token + lÆ°u vÃ o httpOnly 



const token = jwt.sign(
  { id: user._id }, // ğŸ‘ˆ báº¡n truyá»n vÃ o payload cÃ³ id ngÆ°á»i dÃ¹ng
  process.env.JWT_SECRET,
  { expiresIn: '1d' }
);



âœ… Khi verify token:
const decoded = jwt.verify(token, process.env.JWT_SECRET);
{
  id: '6640d88a7eab9c79b145c123',
  iat: 1712574037,
  exp: 1712660437
}



router.delete('/:id', deleteTask);
khi thÃªm dáº¥u ':' vÃ o, express sáº½ tá»± hiá»ƒu Ä‘Ã¢y lÃ  biáº¿n Ä‘á»™ng, vÃ  sáº½ lÆ°u vÃ o trong param


ğŸ“Œ 1. Model.create(data)
âœ… Táº¡o má»›i má»™t document trong collection.

js
Sao chÃ©p
Chá»‰nh sá»­a
const newUser = await User.create({ name: 'Quan', email: 'quan@example.com' });
ğŸ“Œ 2. Model.find(query)
ğŸ” TÃ¬m táº¥t cáº£ cÃ¡c document phÃ¹ há»£p vá»›i Ä‘iá»u kiá»‡n.

js
Sao chÃ©p
Chá»‰nh sá»­a
const users = await User.find({ role: 'admin' }); // tráº£ vá» máº£ng
ğŸ“Œ 3. Model.findOne(query)
ğŸ” TÃ¬m má»™t document Ä‘áº§u tiÃªn phÃ¹ há»£p.

js
Sao chÃ©p
Chá»‰nh sá»­a
const user = await User.findOne({ email: 'quan@example.com' });
ğŸ“Œ 4. Model.findById(id)
ğŸ” TÃ¬m theo _id.

js
Sao chÃ©p
Chá»‰nh sá»­a
const user = await User.findById('6613eeb2a33312345bcde678');
ğŸ“Œ 5. Model.findOneAndUpdate(filter, update, options)
ğŸ”„ TÃ¬m má»™t document vÃ  cáº­p nháº­t.

js
Sao chÃ©p
Chá»‰nh sá»­a
const updatedUser = await User.findOneAndUpdate(
  { email: 'quan@example.com' },
  { name: 'Quan Le' },
  { new: true } // Tráº£ vá» document sau khi update
);
ğŸ“Œ 6. Model.findByIdAndUpdate(id, update, options)
ğŸ”„ Cáº­p nháº­t theo _id.

js
Sao chÃ©p
Chá»‰nh sá»­a
const user = await User.findByIdAndUpdate(id, { role: 'member' }, { new: true });
ğŸ“Œ 7. Model.findOneAndDelete(filter)
âŒ TÃ¬m má»™t document vÃ  xÃ³a.

js
Sao chÃ©p
Chá»‰nh sá»­a
const deletedUser = await User.findOneAndDelete({ email: 'test@example.com' });
ğŸ“Œ 8. Model.findByIdAndDelete(id)
âŒ XoÃ¡ theo _id.

js
Sao chÃ©p
Chá»‰nh sá»­a
await User.findByIdAndDelete(id);
ğŸ“Œ 9. Model.deleteMany(query)
âŒ XoÃ¡ nhiá»u document cÃ¹ng lÃºc.

js
Sao chÃ©p
Chá»‰nh sá»­a
await User.deleteMany({ role: 'guest' });
ğŸ“Œ 10. Model.updateMany(filter, update)
ğŸ” Cáº­p nháº­t nhiá»u document.

js
Sao chÃ©p
Chá»‰nh sá»­a
await User.updateMany({ role: 'guest' }, { active: false });
âœ… Bonus: Sáº¯p xáº¿p, giá»›i háº¡n